<!DOCTYPE html>
<!--=== Coding by CodingLab | www.codinglabweb.com === -->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>EgyptEye-viewPlaces</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <!----======== CSS ======== -->
    <link href="/styles.css" rel="stylesheet">
    <link href="/getlandmarks.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <script src="/function.js"></script>
    <!-- <script type = "text/javascript" >
      function preventBack(){window.history.forward();}
       setTimeout("preventBack()", 0);
       window.onunload=function(){null};
   </script> -->
</head>

<body>

     <nav class="nav">
        
         <ul class="nav-links">
          <li><a href="profile-admin">
                   <i class="uil uil-user"></i>
                   <span class="link-name">Profile</span>
                </a>
                <a href="/main">
                    <i class="uil uil-home"></i>
                    <span class="link-name">Home</span>
                </a>
            </a></li>
            <li>
                <img src="/logoo.png" width="100" height="100">
            </li>
            <li>
              <a href="/logout">
                <i class="uil uil-signout"></i>
                <span class="link-name">Logout</span>
              </a>
            </li>
         </ul>
     </nav>

     <section class="dashboard">
        <div class="formbg-inner padding-horizontal--48">
          <table>
            <thead>
              <tr>
                <th>Id</th>
                <th>Title</th>
                <th class="description">Description</th>
                <th>Image</th>
                <th>Longitude</th>
                <th>Latitude </th>
                <th>Action</th>
              </tr>
            </thead>
            
            <tbody>
              <% landmarks.forEach(landmark => { %>
              <tr>
                <td><%= landmark.id %></td>
                <td><%= landmark.title %></td>
                <td class="description"><%= landmark.description %></td>
                <td><img src="<%= landmark.image.image %>" width="100" height="100"></td>
                <td><%= landmark.location.long %></td>
                <td><%= landmark.location.lat %></td>
                <td>
                  <!-- Add a link to the editplace route with the landmark id as a query parameter -->
                 <a class="editplace" href="/APIs/editplace/<%= landmark.id %>"><button class="edit">edit</button></a>
                  <form class ="deleteplace"action="/APIs/delete-landmark/<%= landmark.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this Landmark?')">
                    <button class="delete" type="submit">delete</button>
                    </form>
                </td>
              </tr>
              <% }); %>
            </tbody> 
             
       </table>
        </div>
    </section> 
    <script>
      function logout() {
        // Perform logout actions here (e.g., clearing session, etc.)
        // ...
    
        // Redirect to login page
        window.location.href = "/login"; // Replace "/login" with the actual login page URL
    
        // Modify the browser history to prevent going back to protected pages
        history.replaceState(null, null, "/login");
      }
    </script>
</body>
     
</html>